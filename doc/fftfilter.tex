% !TEX root = SoLoud.tex
%===============================================================================

\chapter{SoLoud::FFTFilter}

The FFT filter is a simple voice-breaking filter that uses FFT and inverse FFT.

The filter exists mainly to adjust the speech synthesizer's voice in strange ways. It can also be used as basis for other FFT-based filters.

The filter does not support changing of parameters on the fly, nor does it take changing of relative play speed into account.

There are three parameters, shift, combine and scale. Finding usable results from the filter can be done mainly through trial and error. The combine tells the filter how to combine the wet and dry signals - OVER uses wet signal directly, SUBSTRACT substracts the wet signal from the dry, and MULTIPLY multiplies them together.

Scale exists because the resulting volume level can be all over the place.

\begin{lstlisting}{frame=single, framerule=1pt}
// Set up echo filter
gFFTFilter.setParams(-15, FFTFilter::SUBSTRACT, 0.002f);  
// Set the filter as the first filter of the speech
gSpeech.setFilter(0, &gFFTFilter); 
\end{lstlisting}
